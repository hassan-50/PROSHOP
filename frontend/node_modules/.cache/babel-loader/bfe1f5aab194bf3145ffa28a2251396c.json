{"ast":null,"code":"var _jsxFileName = \"D:\\\\ProShop\\\\frontend\\\\src\\\\screens\\\\CartScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap';\nimport Message from '../components/Message';\nimport { addToCart } from '../actions/cartAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartScreen = ({\n  match,\n  location,\n  history\n}) => {\n  _s();\n\n  const productId = match.params.id;\n  const qty = location.search ? Number(location.search.split('=')[1]) : 1;\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  console.log(cartItems);\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const removeFromCartHandler = () => {\n    console.log(\"item removed\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(Row, {\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      md: 8,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Shopping Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(Message, {\n        children: [\" Your Cart is empty \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 72\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 43\n      }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n        variant: \"flush\",\n        children: cartItems.map(item => /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              src: item.image,\n              alt: item.name,\n              fluid: true,\n              rounded: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/products/${item.product}`,\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: [\"$\", item.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              value: item.qty,\n              onChange: e => dispatch(addToCart(item.product, Number(e.target.value))),\n              children: [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: x + 1,\n                children: x + 1\n              }, x + 1, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 27\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 26\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"button\",\n              variant: \"light\",\n              onClick: () => removeFromCartHandler(item.product),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 30\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 22\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      children: /*#__PURE__*/_jsxDEV(ListGroup, {\n        variant: \"flush\",\n        children: /*#__PURE__*/_jsxDEV(ListGroup.item, {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"SubTotal (\", cartItems.reduce((acc, item) => acc + item.qty, 0), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 28\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartScreen, \"1b/6BcrzFg90k2qO1tRu8krUc0E=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CartScreen;\nexport default CartScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"sources":["D:/ProShop/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","Link","useDispatch","useSelector","Row","Col","ListGroup","Image","Form","Button","Card","Message","addToCart","CartScreen","match","location","history","productId","params","id","qty","search","Number","split","dispatch","cart","state","cartItems","console","log","removeFromCartHandler","length","map","item","image","name","product","price","e","target","value","Array","countInStock","keys","x","reduce","acc"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {useDispatch , useSelector} from 'react-redux'\r\nimport {Row , Col , ListGroup , Image , Form , Button , Card} from 'react-bootstrap'\r\nimport Message from '../components/Message'\r\nimport {addToCart} from '../actions/cartAction'\r\n\r\nconst CartScreen = ({match , location , history}) => {\r\n    const productId = match.params.id\r\n    const qty = location.search ? Number(location.search.split('=')[1]) : 1\r\n    const dispatch = useDispatch()\r\n    const cart = useSelector((state) => state.cart)\r\n    const {cartItems} = cart\r\n    console.log (cartItems)\r\n    useEffect(() => {\r\n        if(productId){\r\n            dispatch(addToCart(productId ,qty))\r\n        }\r\n    },[dispatch , productId , qty])\r\n    const removeFromCartHandler = () => {\r\n        console.log(\"item removed\")\r\n    }\r\n    return (\r\n        <Row>\r\n            <Col md={8}>\r\n                <h1>Shopping Cart</h1>\r\n                {cartItems.length === 0 ? <Message> Your Cart is empty <Link to='/'>Go Back</Link> </Message>:(\r\n                 <ListGroup variant='flush'>\r\n                     {cartItems.map(item =>(\r\n                     <Row>\r\n                         <Col md={2}>\r\n                            <Image src={item.image} alt={item.name} fluid rounded/>                            \r\n                         </Col>\r\n                         <Col md={3}>\r\n                            <Link to={`/products/${item.product}`}>{item.name}</Link>                            \r\n                         </Col>\r\n                         <Col md={2}>${item.price}</Col>\r\n                         <Col md={2}>\r\n                         <Form.Control as='select' value={item.qty} onChange={(e) => dispatch(addToCart(item.product,Number(e.target.value)))}>\r\n                      {\r\n                      [...Array(item.countInStock).keys()].map(x => (\r\n                          <option key={x+1} value = {x+1}>\r\n                            {x+1}\r\n                          </option>                          \r\n                      ))\r\n                       }\r\n                    </Form.Control>\r\n                         </Col>\r\n                         <Col md={2}>\r\n                             <Button type='button' variant='light' onClick={() => removeFromCartHandler(item.product)}>\r\n                                <i className='fas fa-trash'></i>\r\n                             </Button>\r\n                         </Col>\r\n                    </Row>\r\n                     ))}\r\n                     </ListGroup>   \r\n                )}\r\n            </Col>\r\n            \r\n            <Col md={4}>\r\n                       <ListGroup variant = 'flush'>\r\n                       <ListGroup.item>\r\n                           <h2>SubTotal ({cartItems.reduce((acc , item) => acc + item.qty ,0 )})</h2>\r\n                       </ListGroup.item>\r\n                       </ListGroup>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\nexport default CartScreen"]},"metadata":{},"sourceType":"module"}